<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ilya Bakirov | ITMO.Portfolio</title>

  <meta name="description" content="bkrv's another project ü¶æ ü•∑üèª" />
  <meta name="robots" content="noindex, nofollow" />
  <meta name="author" content="bkrv | tg: @toomoresouls | email: bkrv.working.diary@gmail.com | 370619" />

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/skeleton/2.0.4/skeleton.min.css"
    integrity="sha512-EZLkOqwILORob+p0BXZc+Vm3RgJBOe1Iq/0fiI7r/wJgzOFZMlsqTa29UEl6v6U6gsV4uIpsNZoV32YZqrCRCQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="../../assets/css/main.css">

</head>

<body>

  <h4 id="author" title="GossJS" style="display: none;">–ò–ª—å—è –ë–∞–∫–∏—Ä–æ–≤</h4>

  <div id="app" v-cloak>
    <div class="layout-main">
      <header class="header">
        <div class="header__container">
          <div class="header__logo-wrapper">
            <a href="/" class="logo">
              <img src="../../assets/img/logo.svg" alt="" class="logo__img">
            </a>
          </div>
        </div>
      </header>

      <main class="main">
        <aside class="sidebar-left" aria-label="Article actions" title="Article actions">
          <left-navbar />
        </aside>

        <article class="content-styles content-overflow">
          <header class="content-article__header">
            <div class="content-article__glass">
              <img src="/assets/img/github_poster.png" alt="poster" class="content-article__cover">
            </div>
            <div class="content-article__header-content">
              <h1 class="title">–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 1</h1>
              <p class="content-article__timestamp">10.02.2023</p>
            </div>
          </header>
          <div class="content-article__body">
            <div id="labApp">
              <div class="content-article__block">
                <h5>MathML</h5>
                <div id="mathml-result"></div>
              </div>
              <div class="content-article__block">
                <h5>SVG</h5>
                <div id="svg-result"></div>
              </div>
            </div>
          </div>
        </article>

        <aside class="sidebar-right" aria-label="Author details" title="Author details">
          <div class="content-styles author-card">
            <author-card :author-link="'https://github.com/everjupe13/everjupe13.github.io/'" />
          </div>
        </aside>
      </main>

      <footer class="footer">
        <div class="container">

        </div>
      </footer>
    </div>
  </div>


  <script id="mathml-source" type="text/xml">
    <—Å—Ç—Ä–æ–∫–∞>
      <–æ–ø–µ—Ä–∞–Ω–¥>œÉ</–æ–ø–µ—Ä–∞–Ω–¥>
      <–æ–ø–µ—Ä–∞—Ç–æ—Ä>=</–æ–ø–µ—Ä–∞—Ç–æ—Ä>
      <–∫–æ—Ä–µ–Ω—å>
        <—Å—Ç—Ä–æ–∫–∞>
          <–¥—Ä–æ–±—å>
            <—Å—Ç—Ä–æ–∫–∞>
              <—á–∏—Å–ª–æ>1</—á–∏—Å–ª–æ>
            </—Å—Ç—Ä–æ–∫–∞>
            <—Å—Ç—Ä–æ–∫–∞>
              <–æ–ø–µ—Ä–∞–Ω–¥>N</–æ–ø–µ—Ä–∞–Ω–¥>
            </—Å—Ç—Ä–æ–∫–∞>
          </–¥—Ä–æ–±—å>
          <—Å—Ç—Ä–æ–∫–∞>
            <–Ω–∏–∑–≤–µ—Ä—Ö>
              <—Å—Ç—Ä–æ–∫–∞>
                <–æ–ø–µ—Ä–∞—Ç–æ—Ä>‚àë</–æ–ø–µ—Ä–∞—Ç–æ—Ä>
              </—Å—Ç—Ä–æ–∫–∞>
              <—Å—Ç—Ä–æ–∫–∞>
                <–æ–ø–µ—Ä–∞–Ω–¥>i</–æ–ø–µ—Ä–∞–Ω–¥>
                <–æ–ø–µ—Ä–∞—Ç–æ—Ä>=</–æ–ø–µ—Ä–∞—Ç–æ—Ä>
                <—á–∏—Å–ª–æ>1</—á–∏—Å–ª–æ>
              </—Å—Ç—Ä–æ–∫–∞>
              <—Å—Ç—Ä–æ–∫–∞>
                <–æ–ø–µ—Ä–∞–Ω–¥>N</–æ–ø–µ—Ä–∞–Ω–¥>
              </—Å—Ç—Ä–æ–∫–∞>
            </–Ω–∏–∑–≤–µ—Ä—Ö>
            <—Å—Ç—Ä–æ–∫–∞>
              <–≤–µ—Ä—Ö>
                <—Å—Ç—Ä–æ–∫–∞>
                  <–æ–ø–µ—Ä–∞—Ç–æ—Ä >(</–æ–ø–µ—Ä–∞—Ç–æ—Ä>
                  <–Ω–∏–∑>
                    <—Å—Ç—Ä–æ–∫–∞>
                      <–æ–ø–µ—Ä–∞–Ω–¥>x</–æ–ø–µ—Ä–∞–Ω–¥>
                    </—Å—Ç—Ä–æ–∫–∞>
                    <—Å—Ç—Ä–æ–∫–∞>
                      <–æ–ø–µ—Ä–∞–Ω–¥>i</–æ–ø–µ—Ä–∞–Ω–¥>
                    </—Å—Ç—Ä–æ–∫–∞>
                  </–Ω–∏–∑>
                  <–æ–ø–µ—Ä–∞—Ç–æ—Ä>‚àí</–æ–ø–µ—Ä–∞—Ç–æ—Ä>
                  <–æ–ø–µ—Ä–∞–Ω–¥>Œº</–æ–ø–µ—Ä–∞–Ω–¥>
                  <–æ–ø–µ—Ä–∞—Ç–æ—Ä >)</–æ–ø–µ—Ä–∞—Ç–æ—Ä>
                </—Å—Ç—Ä–æ–∫–∞>
                <—Å—Ç—Ä–æ–∫–∞>
                  <—á–∏—Å–ª–æ>2</—á–∏—Å–ª–æ>
                </—Å—Ç—Ä–æ–∫–∞>
              </–≤–µ—Ä—Ö>
            </—Å—Ç—Ä–æ–∫–∞>
          </—Å—Ç—Ä–æ–∫–∞>
        </—Å—Ç—Ä–æ–∫–∞>
      </–∫–æ—Ä–µ–Ω—å>
      <–æ–ø–µ—Ä–∞—Ç–æ—Ä>.</–æ–ø–µ—Ä–∞—Ç–æ—Ä>
    </—Å—Ç—Ä–æ–∫–∞>
  </script>
  <script id="svg-source" type="text/xml">
    <root>
      <–≥—Ä–∞—Ñ–∏–∫–∞ —à–∏—Ä–∏–Ω–∞="640" –≤—ã—Å–æ—Ç–∞="480">
        <—ç–ª–ª–∏–ø—Å id="–≥—Ä–∞—Ñ–∏–∫–∞_1" –∑–∞–ª–∏–≤–∫–∞="rgba(255,0,0,0.5)" –æ–±–æ–¥–æ–∫="white" —à–∏—Ä–∏–Ω–∞-–æ–±–æ–¥–∫–∞="5" cx="206" cy="139" rx="100" ry="100"/>
        <—ç–ª–ª–∏–ø—Å id="–≥—Ä–∞—Ñ–∏–∫–∞_2" –∑–∞–ª–∏–≤–∫–∞="rgba(0,0,255,0.5)" –æ–±–æ–¥–æ–∫="white" —à–∏—Ä–∏–Ω–∞-–æ–±–æ–¥–∫–∞="5" cx="108" cy="111" rx="100" ry="100"/>
        <—ç–ª–ª–∏–ø—Å id="–≥—Ä–∞—Ñ–∏–∫–∞_3" –∑–∞–ª–∏–≤–∫–∞="rgba(0,255,0,0.5)" –æ–±–æ–¥–æ–∫="white" —à–∏—Ä–∏–Ω–∞-–æ–±–æ–¥–∫–∞="5" cx="134" cy="215" rx="100" ry="100"/>
      </–≥—Ä–∞—Ñ–∏–∫–∞>
    </root>
  </script>


  <script id="mathml-schema" type="text/xsl">
    <xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
      <xsl:output method="xml" indent="yes" />

      <xsl:template match="/">
        <math xmlns="http://www.w3.org/1998/Math/MathML">
          <xsl:apply-templates />
        </math>
      </xsl:template>

      <xsl:template match="–∫–æ—Ä–µ–Ω—å">
        <msqrt>
          <xsl:apply-templates select="*" />
        </msqrt>
      </xsl:template>

      <xsl:template match="—Å—Ç—Ä–æ–∫–∞">
        <mrow>
          <xsl:apply-templates select="*" />
        </mrow>
      </xsl:template>

      <xsl:template match="–æ–ø–µ—Ä–∞–Ω–¥">
        <mi>
          <xsl:value-of select="." />
        </mi>
      </xsl:template>

      <xsl:template match="–æ–ø–µ—Ä–∞—Ç–æ—Ä">
        <mo>
          <xsl:value-of select="." />
        </mo>
      </xsl:template>

      <xsl:template match="—á–∏—Å–ª–æ">
        <mn>
          <xsl:value-of select="." />
        </mn>
      </xsl:template>

      <xsl:template match="–¥—Ä–æ–±—å">
        <mfrac>
          <xsl:apply-templates select="*" />
        </mfrac>
      </xsl:template>

      <xsl:template match="–Ω–∏–∑–≤–µ—Ä—Ö">
        <munderover>
          <xsl:apply-templates select="*" />
        </munderover>
      </xsl:template>

      <xsl:template match="–≤–µ—Ä—Ö">
        <msup>
          <xsl:apply-templates select="*" />
        </msup>
      </xsl:template>

      <xsl:template match="–Ω–∏–∑">
        <msub>
          <xsl:apply-templates select="*" />
        </msub>
      </xsl:template>

    </xsl:stylesheet>
  </script>
  <script id="svg-schema" type="text/xsl">
    <xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
      <xsl:output method="xml" indent="yes"/>

      <xsl:template match="root">
        <svg width="{–≥—Ä–∞—Ñ–∏–∫–∞/@—à–∏—Ä–∏–Ω–∞}" height="{–≥—Ä–∞—Ñ–∏–∫–∞/@–≤—ã—Å–æ—Ç–∞}">
          <xsl:apply-templates select="–≥—Ä–∞—Ñ–∏–∫–∞/—ç–ª–ª–∏–ø—Å"/>
        </svg>
      </xsl:template>

      <xsl:template match="—ç–ª–ª–∏–ø—Å">
        <ellipse id="{@id}" fill="{@–∑–∞–ª–∏–≤–∫–∞}" stroke="{@–æ–±–æ–¥–æ–∫}" stroke-width="{@—à–∏—Ä–∏–Ω–∞-–æ–±–æ–¥–∫–∞}" cx="{@cx}" cy="{@cy}" rx="{@rx}" ry="{@ry}"/>
      </xsl:template>
    </xsl:stylesheet>
  </script>


  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
  <script src="../../assets/js/main.js" type="module"></script>

  <script>
    const labApp = Vue.createApp({
      template: ``,
      data() {
        return {
          mathml: {
            source: '#mathml-source',
            schema: '#mathml-schema',
            insertNode: '#mathml-result'
          },
          svg: {
            source: '#svg-source',
            schema: '#svg-schema',
            insertNode: '#svg-result'
          }
        }
      },

      computed: {
        getMathmlSource() {
          return document.querySelector(this.mathml.source).textContent
        },
        getSVGSource() {
          return document.querySelector(this.svg.source).textContent
        }
      },

      mounted() {
        this.renderXMLContent(this.mathml)
        this.renderXMLContent(this.svg)
      },

      methods: {
        renderXMLContent(targetObject) {
          const domParser = new DOMParser()
          const xsltProcessor = new XSLTProcessor()
          const xmlSerializer = new XMLSerializer()

          const schema = document.querySelector(targetObject.schema).textContent
          const domSchema = domParser.parseFromString(schema, 'text/xml')

          const source = document.querySelector(targetObject.source).textContent
          const domSource = domParser.parseFromString(source, 'text/xml')

          xsltProcessor.importStylesheet(domSchema)

          const domResult = xsltProcessor.transformToDocument(domSource)
          const renderedXML = xmlSerializer.serializeToString(domResult)

          document.querySelector(targetObject.insertNode).innerHTML = renderedXML
          
        }
      }
    })

    labApp.mount('#labApp')
  </script>

</body>

</html>